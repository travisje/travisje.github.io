
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>A Spot of Tea, Anyone? - Travis Emmett's blog</title>
  <meta name="author" content="Travis Emmett">

  
  <meta name="description" content="I was recently in a meeting with a web development team in New York and they mentioned they relied on a template language called Tea, which all their &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://travisje.github.io/blog/2015/10/25/a-spot-of-tea/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Travis Emmett's blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Travis Emmett's blog</a></h1>
  
    <h2>A coder in training's thoughts</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="travisje.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">A Spot of Tea, Anyone?</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-10-25T19:42:35-04:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>7:42 pm</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><p>I was recently in a meeting with a web development team in New York and they mentioned they relied on a template language called Tea, which all their corporate online content is translated into before it goes live.  I had never heard of it before so I thought it would be a good chance to investigate further.</p>

<p>Tea was created in 1997 and is a strongly typed, compiled programming language made to work within a Java-based hosting environment and is still used by several large websites today. While the original version of Tea is no longer maintained, many users now utilize TeaTrove, a maintained fork of the Tea source code.  According to <a href="https://github.com/teatrove/teatrove/wiki/Tea-Template-Language">TeaTrove’s GitHub page</a>, Tea’s main goal is “to provide an enforced separation between data processing and presentation, without sacrificing basic programming constructs.” It’s basically designed to be simple and ensure that all programming and business logic reside in a separate place.</p>

<p>Tea utilizes templates for simple textual output and HTML. It relies on a Java hosting environment for all data and cannot directly acquire or modify data itself (it can however pass return values back to its Java host). Data must be passed from the hosting environment to the Tea template, either via objects sent through a template’s parameters or through a custom context that supplies various functions. Here’s an example of a simple Tea template:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='Java'><span class='line'><span class="o">&lt;%</span> <span class="n">template</span> <span class="nf">MyTemplate</span><span class="o">(</span><span class="n">PageInfo</span> <span class="n">page</span><span class="o">)</span> <span class="o">%&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;&lt;</span><span class="n">head</span><span class="o">&gt;&lt;</span><span class="n">title</span><span class="o">&gt;&lt;%</span> <span class="n">page</span><span class="o">.</span><span class="na">title</span> <span class="o">%&gt;&lt;/</span><span class="n">title</span><span class="o">&gt;&lt;/</span><span class="n">head</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">body</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;&lt;%</span> <span class="n">page</span><span class="o">.</span><span class="na">heading</span> <span class="o">%&gt;&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;%</span> <span class="n">page</span><span class="o">.</span><span class="na">body</span> <span class="o">%&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">body</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Tea’s code regions are delimited by “&lt;%” and “%>”.  Any code inside these regions is evaluated by Tea and then inserted into the surrounding html when rendered. Here, a Tea template called &ldquo;MyTemplate&rdquo; is being declared and passed in a &ldquo;PageInfo&rdquo; object called &ldquo;page&rdquo; as a parameter.  The passed in object can then be accessed in order to output its various properties (i.e. using page.name). This reminds me of the Embedded Ruby syntax used when rendering Rails views with HTML as well as the same general principle Rails has of passing in a local variable to the view (although it should be noted that Tea explicitly forbids accessing objects not passed into the view as opposed to Rails which doesn’t).</p>

<p>It is interesting to note that while explicitly declared variables are required in a template&rsquo;s declaration, a characteristic common in a strongly typed language,
a local variable’s type created inside a Tea template is inferred based on assignment where the below variable “message” is inferred to be a string:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='Java'><span class='line'><span class="n">message</span> <span class="o">=</span> <span class="err">“</span><span class="n">Hello</span><span class="err">”</span>
</span></code></pre></td></tr></table></div></figure>


<p>After reading Tea’s documentation, it’s interesting to me that the authors state that it was intentionally designed to be a language of limited functionality. They seem to be walking a fine line of providing just enough functionality to be useful, but not enough to be able build a fully functional application:</p>

<blockquote><p>“When introducing programming constructs into a template, the challenge is to come up with something that is powerful enough, yet at the same time be simple and safe. If it’s too powerful, then complete applications could be developed in templates. If it is too weak, then HTML formatting ends up in the application. If it isn’t simple or safe, then application developers end up writing and maintaining templates.”</p></blockquote>

<p>I can definitely appreciate this as I have experienced the temptation to place parts of an application in the view (or presentation) which belong in the core of the application. I can imagine this temptation would lead you increasingly astray if the content you are producing exists in many different formats, something Tea was created specifically for.</p>

<p>In practice, I also wonder if there are any drawbacks to its intended limited functionality and if any inefficiencies exist in maintaining a separate template system as opposed to a single framework uniting front and back end content.  I am definitely intrigued though by its enforcement of programming best practices and the fact that several major companies continue to rely on it today.  I definitely look forward to reconnecting with the developers I met in New York to pick their brains further about it!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Travis Emmett</span></span>

      




<time class='entry-date' datetime='2015-10-25T19:42:35-04:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>7:42 pm</span></time>
      


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://travisje.github.io/blog/2015/10/25/a-spot-of-tea/" data-via="" data-counturl="http://travisje.github.io/blog/2015/10/25/a-spot-of-tea/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/09/24/Metz/" title="Previous Post: Sandi Metz and Object-Oriented Design in Ruby">&laquo; Sandi Metz and Object-Oriented Design in Ruby</a>
      
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/10/25/a-spot-of-tea/">A Spot of Tea, Anyone?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/09/24/Metz/">Sandi Metz and Object-Oriented Design in Ruby</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/26/favorite-gems/">A Few of My Favorite Gems...</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/07/13/form_for/">What's a Form_for, or for That Matter, a Form_tag? Some Examples...</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/06/28/dude/">Dude, Where's My Object?</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Travis Emmett -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
